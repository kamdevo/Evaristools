import{r,j as e,H as M,a as B}from"./app-CPNA5fkj.js";import{a as L,B as l}from"./createLucideIcon-CNZUbRUR.js";import{L as y}from"./label-Df9ZlVEi.js";import{S as b,a as C,b as S,c as k,d as c}from"./select-BtBs2LAY.js";import{T as z,a as i}from"./ToolCard-DvrNwqcD.js";import{F as P}from"./FileUploadZone-Bf4dPOuB.js";import{C as I,A as O}from"./driver-XYzfMZAG.js";import{C as q}from"./circle-alert-Z29hfl0A.js";import{F as G}from"./file-text-B0fBpE6E.js";import{C as H}from"./copy-n2FlFCv1.js";import{U as w}from"./upload-B_bVGoQi.js";import{L as U}from"./loader-circle-Brj18nMe.js";import"./app-Cr7akxs5.js";import"./index-CRnDzTJV.js";import"./index-BElPaYps.js";import"./index-CK-lEGpX.js";import"./index-lXKd38Td.js";import"./index-BS5SJy3R.js";import"./index-6UVGBoHO.js";import"./check-4S0zZpaR.js";import"./badge-kZYjAK_4.js";import"./arrow-left-DbcVuJzq.js";import"./building-2-DNyTMdoQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],T=L("Sparkles",V);function he(){const[t,x]=r.useState(null),[u,h]=r.useState(!1),[d,m]=r.useState(""),[g,o]=r.useState(""),[R,f]=r.useState(!1),[n,j]=r.useState({length:"medium",language:"es"}),E=r.useRef(null),F=()=>{O({showProgress:!0,popoverClass:"driverjs-theme",prevBtnText:"Anterior",nextBtnText:"Siguiente",doneBtnText:"Finalizar",steps:[{element:'[data-tour="left-column"]',popover:{title:"Paso 1: Seleccionar Documento",description:"En esta columna, arrastra tu documento o haz clic en la zona de carga. Acepta PDF, Word (.docx, .doc) y archivos de texto (.txt) hasta 10MB. Aquí también verás el resumen generado.",side:"right",align:"start"}},{element:'[data-tour="options"]',popover:{title:"Paso 2: Configurar Resumen",description:"Selecciona la longitud deseada del resumen (corto, medio o largo) y el idioma en que quieres que se genere.",side:"left",align:"start"}},{element:'[data-tour="actions"]',popover:{title:"Paso 3: Generar Resumen",description:'Haz clic en "Generar Resumen" para procesar tu documento. El resumen aparecerá en la columna izquierda y podrás copiarlo con un solo clic.',side:"left",align:"start"}}]}).drive()},v=s=>{const a=s[0];if(!a)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(a.type)){o("Por favor selecciona un archivo válido (.pdf, .docx o .txt). Nota: archivos .doc antiguos no son soportados, convierte a .docx.");return}if(a.size>10*1024*1024){o("El archivo es demasiado grande. Máximo 10MB permitido.");return}x(a),o(""),m("")},A=async()=>{if(t){h(!0),o(""),m("");try{const s=new FormData;s.append("file",t),s.append("length",n.length),s.append("language",n.language);const a=await B.post("/tools/resume-document/generate",s,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},timeout:12e4});m(a.data.summary)}catch(s){console.error("Error generating summary:",s);let a="Error al generar el resumen.";s.response?.status===404?a="El endpoint de resumen no está configurado. Contacta al administrador del sistema.":s.response?.status===500?a=s.response?.data?.message||"Error en el servidor al procesar el archivo.":s.code==="ECONNABORTED"?a="La generación del resumen está tardando demasiado. Intenta con un documento más corto.":s.response?.data?.error&&(a=s.response.data.error),o(a)}finally{h(!1)}}},D=async()=>{if(d)try{await navigator.clipboard.writeText(d),f(!0),setTimeout(()=>f(!1),2e3)}catch(s){console.error("Error copying to clipboard:",s)}},N=()=>{x(null),m(""),o("")},p=s=>{switch(s){case"short":return"Breve (2-3 párrafos)";case"medium":return"Medio (4-6 párrafos)";case"long":return"Detallado (7-10 párrafos)";default:return""}};return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:"Resumir Documento - Evaristools"}),e.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900",children:[e.jsx(z,{title:"Resumir Documento",description:"Genera resúmenes automáticos de documentos usando IA",icon:T}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6","data-tour":"left-column",children:[!t&&e.jsxs(i,{title:"Seleccionar Documento","data-tour":"upload-zone",children:[e.jsx(P,{onFileSelect:v,acceptedTypes:".pdf,.docx,.txt",title:"Arrastra tu documento aquí",subtitle:"PDF, Word (.docx) o TXT (máximo 10MB)"}),e.jsx("input",{ref:E,type:"file",accept:".pdf,.docx,.txt",onChange:s=>s.target.files&&v(s.target.files),className:"hidden"})]}),g&&e.jsx(i,{title:"Error",children:e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[e.jsx(q,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-red-800 dark:text-red-200",children:g})]})}),t&&e.jsx(i,{title:"Archivo Seleccionado",children:e.jsx("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"h-8 w-8 text-institutional"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[(t.size/1024/1024).toFixed(2)," MB"]})]})]})})}),d&&e.jsx(i,{title:"Resumen Generado",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:d.split(`
`).map((s,a)=>s.trim()&&e.jsx("p",{className:"text-slate-900 dark:text-white mb-3 last:mb-0",children:s},a))})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(l,{onClick:D,variant:"outline",className:"flex-1",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),R?"¡Copiado!":"Copiar Resumen"]}),e.jsxs(l,{onClick:N,variant:"outline",className:"flex-1",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Resumir Otro Documento"]})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(i,{title:"Opciones de Resumen","data-tour":"options",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"Longitud del Resumen"}),e.jsxs(b,{value:n.length,onValueChange:s=>j({...n,length:s}),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"short",children:p("short")}),e.jsx(c,{value:"medium",children:p("medium")}),e.jsx(c,{value:"long",children:p("long")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"Idioma del Resumen"}),e.jsxs(b,{value:n.language,onValueChange:s=>j({...n,language:s}),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"es",children:"Español"}),e.jsx(c,{value:"en",children:"Inglés"})]})]})]})]})}),e.jsx(i,{title:"Acciones","data-tour":"actions",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(l,{onClick:A,disabled:u||!t,className:"flex-1 bg-institutional hover:bg-institutional/90",children:u?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),"Generando Resumen..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Generar Resumen"]})}),e.jsxs(l,{onClick:N,variant:"outline",className:"flex-1",disabled:u||!t,children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Seleccionar Otro"]})]}),e.jsxs(l,{onClick:F,variant:"outline",className:"w-full border-institutional text-institutional hover:bg-institutional/10",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"¿Cómo funciona? - Tour Interactivo"]})]})})]})]})})})]})]})}export{he as default};
